<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>游览器内部控制2-演示页面</title>
    <link rel="stylesheet" href="https://weui.io/style/weui.css">
    <link rel="stylesheet" href="https://weui.io/example.css"/>
</head>
<body>
<h1>Page2</h1>
<button onclick="onpeWebPage()">打开优e家房源详情</button>
<button onclick="onpeApp()">打开优e家，无跳转下载</button>

<button class="weui-btn weui-btn_primary" onclick="test(1)">关闭</button>
<button class="weui-btn weui-btn_primary" onclick="test(2)">后退</button>
<button class="weui-btn weui-btn_primary" onclick="test(5)">刷新</button>
<button class="weui-btn weui-btn_primary" onclick="test(6)">加载百度页面</button>

<div id="ad">系统</div>
<div id="device">2</div>

<script src="jssdk-0.1.js" type="text/javascript"></script>
<script type="text/javascript">
    const AppSdk = new AppSDK();
    const AppWeb= new AppWEB();

    document.getElementById("ad").innerHTML = window.navigator.userAgent +  AppSdk.isApp();
    
    function test(t) {
        switch (t) {
            case 1:
                AppSdk.on("close", {});
                break;
            case 2:
                AppSdk.on("back",{});
                break;
            case 5:
                AppSdk.on("refresh",{});
                break;
            case 6:
                AppSdk.on("toWeb",{
                    data: {
                        "path": "http://www.baidu.com"
                    }
                });
                break;
        }
    }
    
    function onpeWebPage () {
        AppWeb.on("toPage_app", {
            data: {
                "path": `/housingdetail/${JSON.stringify({
                    "rhKey": "rh10010620190716190102244189",
                    "type": 1
                })}`
            }
        })
    }

    function onpeApp () {
        AppWeb.on("openApp", {})
    }
</script>

</body>
</html>
